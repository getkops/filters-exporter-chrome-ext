<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Filter Exporter</title>
    <link rel="stylesheet" href="popup.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="header-icon">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3 4h18l-7 8.5V18l-4 2v-7.5L3 4z"
              stroke="url(#grad)"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <defs>
              <linearGradient id="grad" x1="3" y1="4" x2="21" y2="20">
                <stop stop-color="#10b981" />
                <stop offset="1" stop-color="#06b6d4" />
              </linearGradient>
            </defs>
          </svg>
        </div>
        <div class="header-text">
          <h1>Filter Exporter</h1>
          <p class="subtitle">Extract filters from V-Tools & Souk.to</p>
        </div>
      </header>

      <!-- Status Bar -->
      <div class="status-bar" id="statusBar">
        <div class="status-dot" id="statusDot"></div>
        <span class="status-text" id="statusText">Waiting for dataâ€¦</span>
        <span class="status-badge" id="statusBadge">0</span>
      </div>

      <!-- Filter Table -->
      <div class="table-wrapper" id="tableWrapper">
        <div class="empty-state" id="emptyState">
          <div class="empty-icon">
            <svg
              width="40"
              height="40"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 4h18l-7 8.5V18l-4 2v-7.5L3 4z"
                stroke="#4b5563"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <p class="empty-title">No filters captured yet</p>
          <p class="empty-desc">
            Visit <strong>V-Tools</strong> or <strong>Souk.to</strong> filters
            page.<br />Filters will be captured automatically.
          </p>
          <div class="url-hints">
            <code>app.v-tools.com/dashboard/filtres</code>
            <code>souk.to/en/app/alerts</code>
          </div>
        </div>
        <table class="filter-table" id="filterTable" style="display: none">
          <thead>
            <tr>
              <th>Name</th>
              <th>Brands</th>
              <th>Price</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="filterTableBody"></tbody>
        </table>
      </div>

      <!-- Actions -->
      <div class="actions">
        <button class="btn btn-primary" id="exportBtn" disabled>
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          Export CSV
        </button>
        <button class="btn btn-ghost" id="clearBtn" disabled>
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          Clear
        </button>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <span id="lastUpdate"></span>
      </footer>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
